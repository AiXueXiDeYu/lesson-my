<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Document</title>
</head>
<body>
   <script>
      // Promise
      // 1. 手写一个promise 类
      class Promise {
         constructor(executor) {
            // 
            this.status = 'pending'
            this.onResolveCallbacks = null
            let resolve = value => { // 传的值
               this.status = 'fulfilled' // 状态发生改变 执行then 函数？
               this.onResolveCallbacks(value)
            }
            executor(resolve);// 立即执行
         }
         then(cb) {
            if (this.status == 'fulfilled') {
               cb()
            } else {
               this.onResolveCallbacks = cb
            }
         }
      }
      let p = new Promise((resolve, reject) => {
         setTimeout(() => {
            resolve('1')
         },3000)
      })
      p
         .then((data) => {
            console.log(data,'------');
         })
   </script>
</body>
</html>